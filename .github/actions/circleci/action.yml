name: 'Start Circle CI Release'
description: "Triggers the CircleCI pipeline"

inputs:
  CIRCLECI_KEY:
    description: "CircleCI token"
    required: true
  IMAGE:
    description: "The image that should be released"
    required: true
  VERSION:
    description: "The version that should be released"
    required: true
  IS_LATEST:
    description: "Whether its the latest or not"
    required: true

runs:
  using: "composite"
  steps:

    - name: Trigger CircleCI
      shell: bash
      run: |
        cd .circleci && sh run-img.sh ${{ inputs.CIRCLECI_KEY }} ${{ inputs.IMAGE }} ${{ inputs.VERSION }} ${{ inputs.IS_LATEST }}
